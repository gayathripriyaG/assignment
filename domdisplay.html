<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        th,td{
            border:1px solid black;
        }
    </style>
</head>
<body>
    <form>
       <input type = "text" placeholder="name" id = "name"/>
       <select id = "department">
           <option value = "hr">hr</option>
           <option value = "operations">operations</option>
           <option value = "tech">tech</option>
           <option value = "marketing">marketing</option>
       </select>
       <input type="number" placeholder="salesyear1" id="year1"/>
       <input type="number" placeholder="salesyear2" id="year2"/>
       <input type = "submit"/> 
    </form>
    <div id="display">
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Department</th>
                    <th>Saleseyear1</th>
                    <th>Saleseyear2</th>
                    <th>Avg Sales</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
            <tfoot>

            </tfoot>
        </table>
    </div>
    
</body>
</html>

<script>
   
    document.querySelector("form").addEventListener("submit",myform)
    var matrix = [];
    //var tr,td1,td2,td3,td4,td5;

    function myform(event){
        event.preventDefault();
        var name = document.querySelector('#name').value;
        var dept = document.querySelector("#department").value;
        var sales1 = document.querySelector('#year1').value;
        var sales2 = document.querySelector('#year2').value;
        //console.log(name,dept,sales1,sales2);

        var tr = document.createElement("tr")
        var td1 = document.createElement("td")
        td1.textContent = name;
        var td2 = document.createElement("td")
        td2.textContent = dept;
        var td3 = document.createElement("td")
        td3.textContent = +sales1;
        var td4 = document.createElement("td")
        td4.textContent = +sales2;
        var avg = ((+sales1)+(+sales2))/2
        var td5 = document.createElement("td")
        td5.textContent = avg;
        tr.setAttribute("class","row")

        var arr = [];
        arr.push(name)
        arr.push(dept)
        arr.push(+sales1)
        arr.push(+sales2)
        arr.push(avg)

        matrix.push(arr)

       
        tr.append(td1,td2,td3,td4,td5)
      
       document.querySelector("tbody").append(tr)
       
    }

    var tr1 = document.createElement("tr")

    var button1 = document.createElement("button")
    button1.textContent = "Ascending"
    var button2 = document.createElement("button")
    button2.textContent = "Decending"
    tr1.append(button1,button2)

    document.querySelector("tfoot").append(tr1)

    button1.addEventListener("click",ascending)

    function ascending(){
        //event.target.parentNode.remove()
        document.querySelector("tbody").remove()
        matrix.sort(function(a,b){
        return a[4]-b[4]
    })


   matrix.forEach(ele => {
       var tbody = document.createElement("tbody")
    var tr = document.createElement("tr")
        var td1 = document.createElement("td")
        var td2 = document.createElement("td")
        var td3 = document.createElement("td")
        var td4 = document.createElement("td")
        var td5 = document.createElement("td")
      td1.textContent = ele[0]
      td2.textContent = ele[1]
      td3.textContent = ele[2]
      td4.textContent = ele[3]
      td5.textContent = ele[4]
      //console.log(tr);
      tr.append(td1,td2,td3,td4,td5)
     tbody.append(tr)
     document.querySelector("table").append(tbody)
   })
    }

    button2.addEventListener("click",descending)

function descending(){
    document.querySelector("tbody").remove()
    matrix.sort(function(a,b){
        return b[4]-a[4]
    })

    matrix.forEach(ele => {
       var tbody = document.createElement("tbody")
    var tr = document.createElement("tr")
        var td1 = document.createElement("td")
        var td2 = document.createElement("td")
        var td3 = document.createElement("td")
        var td4 = document.createElement("td")
        var td5 = document.createElement("td")
      td1.textContent = ele[0]
      td2.textContent = ele[1]
      td3.textContent = ele[2]
      td4.textContent = ele[3]
      td5.textContent = ele[4]
      //console.log(tr);
      tr.append(td1,td2,td3,td4,td5)
     tbody.append(tr)
     document.querySelector("table").append(tbody)
   })
    
}

</script>